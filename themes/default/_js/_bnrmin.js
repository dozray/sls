(function(a){a.fn.extend({_indexa:function(b){var c={during:3000,btn:true,focus:true,title:false,auto:true};var b=a.extend(c,b);return this.each(function(){var e=b;var g=0;var j=a(this).find("#kinMaxShow");var k=j.children("div");var f=k.length;j.css({position:"relative",overflow:"hidden",width:k.find("img").width(),height:k.find("img").height()});j.find("div").css({position:"absolute",left:0,top:0}).hide();k.first().show();j.append('<div class="yx-rotaion-btn"><span class="left_btn"></span><a class="yx-rotaion-btn-a" target="_blank" href="javascript;" style="display: inline-block; width: 1096px; height: 41px; margin: auto;"></a><span class="right_btn"></span></div>');if(!e.btn){a(".yx-rotaion-btn").css({visibility:"hidden"})}if(e.title){j.append(' <div class="yx-rotation-title"></div><a href="" class="yx-rotation-t"></a>')}if(e.focus){j.append('<div class="yx-rotation-focus"></div>')}var m=a(".yx-rotaion-btn span"),l=a(".yx-rotation-t"),h=a(".yx-rotation-title"),p=a(".yx-rotation-focus");if(e.auto){var n=setInterval(function(){m.last().click()},e.during)}l.text(k.first().find("img").attr("alt"));l.attr("href",k.first().find("a").attr("href"));a(".yx-rotaion-btn-a").attr("href",k.first().find("a").attr("href"));for(i=1;i<=f;i++){p.append("<span>"+i+"</span>")}if(a.browser.msie&&a.browser.version=="6.0"){m.add(p.children("span")).css({backgroundImage:"url(images/ico.gif)"})}var d=p.children("span");d.first().addClass("hover");m.hover(function(){a(this).addClass("hover")},function(){a(this).removeClass("hover")});m.add(k).add(d).hover(function(){if(n){clearInterval(n)}},function(){if(e.auto){n=setInterval(function(){m.last().click()},e.during)}});d.bind("mouseover",function(){var o=a(this).index();a(this).addClass("hover");p.children("span").not(a(this)).removeClass("hover");k.eq(o).stop(false,true).fadeIn(1000);k.not(k.eq(o)).stop(false,true).fadeOut(1000);l.text(k.eq(o).find("img").attr("alt"));l.attr("href",k.eq(o).find("a").attr("href"));a(".yx-rotaion-btn-a").attr("href",k.eq(o).find("a").attr("href"));g=o});m.bind("click",function(){a(this).index()==2?g++:g--;if(g>=f){g=0}if(g<0){g=f-1}k.eq(g).stop(false,true).fadeIn(1000);k.not(k.eq(g)).stop(false,true).fadeOut(1000);d.eq(g).addClass("hover");d.not(d.eq(g)).removeClass("hover");l.text(k.eq(g).find("img").attr("alt"));l.attr("href",k.eq(g).find("a").attr("href"));a(".yx-rotaion-btn-a").attr("href",k.eq(g).find("a").attr("href"))})})}})})(jQuery);